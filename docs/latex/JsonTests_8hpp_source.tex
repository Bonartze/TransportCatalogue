\hypertarget{JsonTests_8hpp_source}{}\doxysection{Json\+Tests.\+hpp}
\label{JsonTests_8hpp_source}\index{Autotests/JsonTests.hpp@{Autotests/JsonTests.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#include <cassert>}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#include <chrono>}}
\DoxyCodeLine{3 \textcolor{preprocessor}{\#include <sstream>}}
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include <string\_view>}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include <variant>}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include <iostream>}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include "{}../Json\_parser\_src/json.h"{}}}
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include <gtest/gtest.h>}}
\DoxyCodeLine{9 }
\DoxyCodeLine{10 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{11 }
\DoxyCodeLine{12 \textcolor{keyword}{using namespace }std::literals;}
\DoxyCodeLine{13 \textcolor{keyword}{using namespace }json;}
\DoxyCodeLine{14 }
\DoxyCodeLine{15 \textcolor{comment}{//@brief Just test}}
\DoxyCodeLine{16 }
\DoxyCodeLine{17 \textcolor{keyword}{namespace }JsonTest \{}
\DoxyCodeLine{18     \textcolor{keyword}{inline} \mbox{\hyperlink{classjson_1_1Document}{json::Document}} LoadJSON(\textcolor{keyword}{const} std::string \&s) \{}
\DoxyCodeLine{19         std::istringstream strm(s);}
\DoxyCodeLine{20         \textcolor{keywordflow}{return} json::Load(strm);}
\DoxyCodeLine{21     \}}
\DoxyCodeLine{22 }
\DoxyCodeLine{23     \textcolor{keyword}{inline} std::string Print(\textcolor{keyword}{const} \mbox{\hyperlink{classjson_1_1Node}{Node}} \&node) \{}
\DoxyCodeLine{24         std::ostringstream out;}
\DoxyCodeLine{25         Print(\mbox{\hyperlink{classjson_1_1Document}{Document}}\{node\}, out);}
\DoxyCodeLine{26         \textcolor{keywordflow}{return} out.str();}
\DoxyCodeLine{27     \}}
\DoxyCodeLine{28 }
\DoxyCodeLine{29     \textcolor{keywordtype}{void} MustFailToLoad(\textcolor{keyword}{const} std::string \&s);}
\DoxyCodeLine{30 }
\DoxyCodeLine{31     \textcolor{keyword}{template}<\textcolor{keyword}{typename} Fn>}
\DoxyCodeLine{32     \textcolor{keywordtype}{void} MustThrowLogicError(Fn fn) \{}
\DoxyCodeLine{33         \textcolor{keywordflow}{try} \{}
\DoxyCodeLine{34             fn();}
\DoxyCodeLine{35             std::cerr << \textcolor{stringliteral}{"{}logic\_error is expected"{}}sv << std::endl;}
\DoxyCodeLine{36             assert(\textcolor{keyword}{false});}
\DoxyCodeLine{37         \} \textcolor{keywordflow}{catch} (\textcolor{keyword}{const} std::logic\_error \&) \{}
\DoxyCodeLine{38         \} \textcolor{keywordflow}{catch} (\textcolor{keyword}{const} std::exception \&e) \{}
\DoxyCodeLine{39             std::cerr << \textcolor{stringliteral}{"{}exception thrown: "{}}sv << e.what() << std::endl;}
\DoxyCodeLine{40             assert(\textcolor{keyword}{false});}
\DoxyCodeLine{41         \} \textcolor{keywordflow}{catch} (...) \{}
\DoxyCodeLine{42             std::cerr << \textcolor{stringliteral}{"{}Unexpected error"{}}sv << std::endl;}
\DoxyCodeLine{43             assert(\textcolor{keyword}{false});}
\DoxyCodeLine{44         \}}
\DoxyCodeLine{45     \}}
\DoxyCodeLine{46 \}}

\end{DoxyCode}
